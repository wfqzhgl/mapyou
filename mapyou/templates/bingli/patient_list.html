{% extends "base.html" %}
{% load i18n %}



{% block head_extra%}

<script>

$(document).ready(function(){
	
});

</script>

{%endblock %}


{% block nav_list%} 
	<li class="active"><a href="/bingli/index/">患者列表</a></li>
	<li><a href="/bingli/histories/0/">病历列表</a></li>
	<li><a href="/bingli/btypes/">疾病列表</a></li>
	<li><a href="/bingli/bcates/">疾病类别</a></li>
{% endblock %}


{% block content%}

<div>
	<form id="id_search_patient_form">
         {% csrf_token %}
         <input type="button" class="ym-button" value="新增" onclick="javascript:location.href='/bingli/addpatient/'" />
         &nbsp;&nbsp;&nbsp;
        姓名：<input name="search_patient_name" type="text" style="width: 100px;height:23px;">
        性别：<select name="search_patient_gender" id="search_patient_gender">
                <option value="">全部</option>
                <option value="0">男</option>
                <option value="1">女</option>
            </select>

        <input type="button" value="搜索" onclick="do_patient_search()">
     </form>
</div>

<div id="div_table_patient_list">
    <table id="table_patient_list" style="width:100%"> 
	    <thead> 
	    <tr> 
	        <th style="text-align:left;">姓名</th> 
	        <th style="text-align:left;">性别</th>
	        <th style="text-align:left;">年龄</th>
	        <th style="text-align:left;">电话</th>
	        <th style="text-align:left;">操作</th> 
	    </tr> 
	    </thead> 
	    <tbody> 
	    {% for object in page_obj.object_list %}
	    <tr> 
	        <td>{{ object.name }}</td>
	        <td>{{ object.get_gender_display }}</td>
	        <td>{{ object.age }}</td> 
	        <td>{{ object.phone }}</td> 
	        <td>
	        	<a href="/bingli/modpatient/{{object.id}}/">查看/修改 </a>
	        	<a target="_blank" href="/bingli/histories/{{object.id}}/">查看病历 </a>
	        </td> 
	        
	        
	    </tr> 
	    {% endfor %}
	    </tbody> 
    </table>  
    
    <!-- 分页控件 -->
		 <div id="pager" style="text-align:right">
	       
	       <!-- {%if page_obj%} -->
	       	<!--	<strong>{{page_obj.start_index}}&nbsp;-&nbsp;{{page_obj.end_index}}&nbsp;&nbsp;of&nbsp;&nbsp;{{page_obj.paginator.count}}</strong> -->
	       	<!--	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
	      <!-- {%endif%} -->
	       {% if page_obj.has_previous %}
	        <a href="#" onclick="get_page(1)">首页</a>
	        <a href="#" onclick="get_page({{page_obj.previous_page_number}})">上一页</a>
	       {% endif %}
	       
	       {% if page_obj %}
	       	第{{page_obj.number}}页&nbsp;共{{ page_obj.paginator.num_pages }}页      
	       	{% endif %}
	       
	       {% if page_obj.has_next %}
	        <a href="#" onclick="get_page({{page_obj.next_page_number}})">下一页</a>
	        <a href="#" onclick="get_page({{page_obj.paginator.num_pages}})">末页</a>
	       {% endif %}
	       
	       	&nbsp;&nbsp;&nbsp;页号 
	       	<select id="page_select" onChange="get_page_selected()">
		       	{%for pagenum in page_obj.paginator.page_range%}
		       		{%ifequal page_obj.number pagenum%}
		       		<option selected="selected">{{pagenum}}</option>
		       		{%else%}
		       		<option>{{pagenum}}</option>
		       		{%endifequal%}
		       	{%endfor%}
	       	</select>
	  	</div>
</div>
{% endblock %}
